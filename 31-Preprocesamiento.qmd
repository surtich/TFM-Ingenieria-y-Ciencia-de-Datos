```{r}
source("_setup.R")
```

# Métodos.

## Fuente de datos.

Los datos proceden de la edición de 2022 del curso MOOC Materiales digitales accesibles de la UNED. Concretamente a los estudiantes matriculados se les propuso que realizaran una actividad voluntaria consistente en evaluar la calidad del subtitulado de dos vídeos. Los vídeos eran idénticos y se diferenciaban únicamente en la calidad del subtitulado. Los subtítulos de uno de los vídeos se realizaron [ver @jperez1; @jperez2] siguiendo las guía Web Content Accessibility Guidelines 2.1 (WCAG 2.1) del W3C (World Wide Web Consortium). El otro vídeo tenía un subtitulado similar pero se introdujeron pequeñas deficiencias inapreciables para alguien que carezca de conocimientos sobre accesibilidad. Los estudiantes fueron clasificados en dos grupos. Al primer grupo se le presentó primero el vídeo correctamente subtitulado y luego el otro. El segundo grupo realizó la actividad cruzada: primero evaluó el vídeo mal subtitulado y luego el bien subtitulado. Tras ver cada uno de los vídeos, los estudiantes tuvieron la oportunidad de valorar la calidad del subtitulado realizando un test en escala de Likert de 18 ítems y 5 niveles cada ítem ^[Para una descripción sobre cómo se debe realizar una escala de Likert consultar @likert1.]. Los 18 ítems de Likert pretenden asegurar los criterios de la norma UNE 153010 [ver @aenor2012].

En la @tbl-likert-levels se muestran los 5 niveles de cada uno de los items de la escala de Likert utilizados para valorar el subtitulado
^[En la codificación original los valores asignados a cada respuesta eran diferentes: la opción `No sé / No contesto` se codificó con 5 y las demás opciones con una unidad menos que la mostrada. En este trabajo se ha hecho una rotación para asignar valores más usuales en la literatura científica sobre el tema.]:

\clearpage

```{r}
#| label: tbl-likert-levels
#| tbl-cap: Niveles de los items de la escala de Likert.
data.frame(`values` = 0:5, `levels` = response_labels) %>%
    gt() %>%
    as_raw_html()
```

En la @tbl-likert-scale se muestran los 18 items de la escala de Likert que se propuso a los alumnos para que evaluaran cada uno de los vídeos:


```{r}
#| label: tbl-likert-scale
#| tbl-cap: Items de la escala de Likert.
tibble(Item = levels(df_all$Question), Texto = levels(df_all$Question_l)) %>%
    arrange(Item) %>%
    gt()
```

Los datos personales de los estudiantes se suministraron anonimizados para evitar ninguna referencia a su identidad. Del estudio se han eliminado a aquellos estudiantes que, a pesar de haber realizado la actividad, no dieron su autorización para que sus datos se utilizaran en un estudios científicos.

\clearpage
Se dispuso de los siguientes ficheros `csv`:

* El fichero `grade` contiene el identificador de estudiante y el grupo al que pertenece (campo `cohort`).
* El fichero `abo` es la información socioeconómica que voluntariamente ha aportado el estudiante: sexo, año nacimiento, nivel de estudios, ocupación.
* El fichero `conoc` contiene el test de evaluación inicial de conocimientos del estudiante.
* El fichero `exp` es la evaluación del curso realizada por cada estudiante.
* El fichero `acc` contiene la información sobre las necesidades/preferencias de accesibilidad que tiene el estudiante.
* Los ficheros `test1` y `test2` son las repuestas al test de Likert sobre la calidad del subtitulado del primer y del segundo vídeo realizado por cada grupo respectivamente.

## Características del diseño del experimento. {#sec-diseno}

El diseño del experimento es completamente aleatorizado, de respuesta ordinal, cruzado $AB/BA$ y triple ciego. Es decir, que la asignación de los estudiantes a cada grupo fue aleatoria; cada grupo vio los vídeos en orden inverso; ni los estudiantes ni los directores del MOOC conocían a priori qué vídeo estaban viendo en cada momento, y tampoco se disponía de esta información en el momento de realizar el análisis estadístico de los datos.

Un diseño completamente aleatorizado [@lawson2015, pp. 18] "garantiza la validez del experimento contra sesgos causados por otras variables ocultas. Cuando las unidades experimentales se asignan aleatoriamente a los niveles de factor de tratamiento, se puede realizar una prueba exacta de la hipótesis de que el efecto del tratamiento es cero utilizando una prueba de aleatorización".

Siguiendo a @senn2022, para que el ensayo sea de tipo cruzado no sería suficiente intercambiar las secuencias sino que debe ser objeto del ensayo el estudio de las diferencias entre los tratamientos individuales que componen las secuencias. Los principales problemas de un diseño cruzado son el abandono, `drop-out`, de alguno de los participantes y la interacción entre el tratamiento y el periodo o `carry-over`. Además, el análisis estadístico es más complicado y particularmente cuando la respuesta es ordinal y hay más de dos tratamientos. En la misma línea, @lui2016 afirma que "el objetivo principal de un diseño cruzado es estudiar la diferencia entre tratamientos individuales (en lugar de la diferencia entre secuencias de tratamiento). Debido a que cada paciente sirve como su propio control, el diseño cruzado es una alternativa útil al diseño de grupos paralelos para aumentar la potencia".

Las respuestas a un test de Likert se realizan en escala ordinal. No es adecuado realizar operaciones aritméticas para calcular medias con este tipo de datos. Por ello, los test estadísticos para analizar el efecto de un tratamiento con respuesta continua como son *ANOVA* y $t$-test no son adecuados con datos ordinales. Una opción es tratar los datos ordinales como si se tratara de datos categóricos y utilizar técnicas no paramétricas como el test de *Kruskal-Wallis*. El problema de este tipo de técnicas es que ignoran que los datos tienen una escala y, en el caso particular del diseño que nos ocupa, se trata de datos longitudinales. Es decir, que se toman varias medidas de cada sujeto y, por lo tanto, los datos no son independientes. @agresti2010 expone un catálogo de técnicas para analizar datos categóricos y ordinales.

## Objetivo.

El objetivo del estudio es responder a la pregunta de investigación:

Son los estudiantes de un curso de accesibilidad capaces de encontrar los errores en el subtitulado de un vídeo. Para ello se propondrán diversos test y modelos estadísticos que tengan en consideración las características que se han comentado en el diseño del experimento (ver @sec-diseno). Particularmente se tendrá en cuenta que se trata de un diseño cruzado con variable respuesta ordinal y variables explicativas longitudinales.

## Preprocesamiento. {#sec-preprocesado}

Partiendo de los ficheros suministrados (ver @sec-diseno), se realiza el siguiente preprocesado (para ver el código ejecutado consultar @sec-preprocess):

* Se lee el fichero de perfil del usuario. El número de fila con el que el usuario aparece en el fichero se utilizará como identificador del usuario para mantener la trazabilidad y comprobar que las transformaciones realizadas son correctas.

* Se eliminan los datos de los estudiantes que aún habiendo realizado la actividad, no han dado su consentimiento para participar en el estudio.

* El valor del campo `cohort` se sustituye por una letra, $A$ o $B$, en función del grupo asignado. En el momento de realizar este proceso se desconoce qué vídeo vio primero cada grupo.

* Se lee el fichero `profile` y se añade información sobre el sexo, el año de nacimiento y el nivel de estudios.

* Se lee el fichero `conoc` y se calcula cuántas preguntas acertó cada usuario en el test de evaluación de conocimientos previos. Se añade esta información al perfil del usuario.

* Se leen los ficheros de test y se procesan. Se utiliza el nombre del fichero (`test1` o `test2`) para saber de qué vídeo se está respondiendo el test
^[Se reitera que en el momento de realizar este proceso se desconoce si el vídeo es el correctamente  subtitulado o el otro. La única información que se almacena es si se está respondiendo al vídeo que se vio primero.].

* Se seleccionan las preguntas que contienen las respuestas y se renombran para que sea más fácil saber de qué pregunta se trata
^[En los ficheros suministrados la respuesta a cada pregunta ocupa varios campos. e selecciona en cada pregunta el que contiene el valor de la respuesta y se convierte a numérico.]. Se convierte el campo `LastTry`, que contiene la fecha y hora de realización del test, a formato fecha y hora.

* Se realizan algunas comprobaciones como la ausencia de valores nulos en la variables más relevantes o que no existan inconsistencias ni errores de procesado.

* Se eliminan los comentarios y se graban en fichero aparte para que no revelen información que podría descubrir el tipo de subtitulado que piensa que está evaluando el estudiante.

* Se almacenan los resultados de los test preprocesados en un fichero `csv`.

\clearpage
